<h2>{{ editing ? 'Editar Prato' : 'Adicionar Prato' }}</h2>
<form [formGroup]="dishForm" (ngSubmit)="onSubmit()">
  <mat-form-field appearance="outline" style="width: 100%;">
    <mat-label>Nome</mat-label>
    <input matInput formControlName="name" required />
  </mat-form-field>

  <mat-form-field appearance="outline" style="width: 100%;">
    <mat-label>Descrição</mat-label>
    <textarea matInput formControlName="description"></textarea>
  </mat-form-field>

  <mat-form-field appearance="outline" style="width: 100%;">
    <mat-label>Preço</mat-label>
    <input matInput type="number" formControlName="price" required />
  </mat-form-field>

  <mat-form-field appearance="outline" style="width: 100%;">
    <mat-label>Imagem (URL)</mat-label>
    <input matInput formControlName="image" />
  </mat-form-field>

  <mat-form-field appearance="outline" style="width: 100%;">
    <mat-label>Dose</mat-label>
    <input matInput formControlName="doseType" />
  </mat-form-field>

  <mat-form-field appearance="outline" style="width: 100%;">
    <mat-label>Categoria</mat-label>
    <input matInput formControlName="category" />
  </mat-form-field>

  <fieldset formGroupName="nutritionalInfo" style="margin-top: 16px; border: 1px solid #eee; border-radius: 8px; padding: 16px;">
    <legend>Informação Nutricional</legend>
    <div style="display: flex; flex-wrap: wrap; gap: 16px;">
      <mat-form-field appearance="outline" style="flex: 1 1 120px;">
        <mat-label>Calorias</mat-label>
        <input matInput type="number" formControlName="calories" />
      </mat-form-field>
      <mat-form-field appearance="outline" style="flex: 1 1 120px;">
        <mat-label>Proteína</mat-label>
        <input matInput type="number" formControlName="protein" />
      </mat-form-field>
      <mat-form-field appearance="outline" style="flex: 1 1 120px;">
        <mat-label>Gordura</mat-label>
        <input matInput type="number" formControlName="fat" />
      </mat-form-field>
      <mat-form-field appearance="outline" style="flex: 1 1 120px;">
        <mat-label>Hidratos</mat-label>
        <input matInput type="number" formControlName="carbs" />
      </mat-form-field>
      <mat-form-field appearance="outline" style="flex: 1 1 120px;">
        <mat-label>Sódio</mat-label>
        <input matInput type="number" formControlName="sodium" />
      </mat-form-field>
    </div>
  </fieldset>

  <button mat-raised-button color="primary" type="submit" [disabled]="dishForm.invalid || loading" style="margin-top: 24px;">
    {{ editing ? 'Guardar alterações' : 'Adicionar prato' }}
  </button>
</form>